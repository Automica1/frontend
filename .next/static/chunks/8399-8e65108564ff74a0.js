"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8399],{22189:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(94853).A)("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]])},22792:(e,t,r)=>{r(72311),r(82726)},23209:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(94853).A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},25116:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(94853).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},27350:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(94853).A)("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]])},48480:(e,t,r)=>{r.d(t,{p:()=>a});var n=r(72311),o=r(82726);function a({children:e,postLogoutRedirectURL:t,...r}){return(0,n.jsx)("a",{href:`${o.$.apiPath}/${o.J.logout}${t?`?post_logout_redirect_url=${t}`:""}`,...r,children:e})}},56979:(e,t,r)=>{r.d(t,{X6:()=>g,r8:()=>l,yg:()=>p});var n=r(72311),o=r(82726),a=r(62847);let s={s:"string",i:"integer",b:"boolean"},i=(0,a.createContext)({...o.$.initialState}),l=()=>(0,a.useContext)(i),c=async e=>{let t;try{t=await fetch(e)}catch{throw Error("Failed to fetch token")}if(t.ok)return await t.json();if(401===t.status)throw Error("Failed to fetch token")},g=({children:e})=>{let t=`${o.$.apiPath}/${o.J.setup}`,r=(0,a.useCallback)(()=>{l()},["checkSession"]),l=(0,a.useCallback)(async()=>{try{let e=await c(t);if(null==e)return;let{accessToken:n,accessTokenEncoded:a,featureFlags:i,idToken:l,organization:g,permissions:u,user:h,userOrganizations:k}=e,_=()=>n,T=()=>a,p=()=>a,v=()=>a,R=()=>l,y=()=>E,I=()=>u,f=()=>g,A=()=>h,U=()=>k,w=(t,r="access_token")=>{let n="access_token"===r?e.accessToken:e.idToken;return n?{name:t,value:n[t]}:null},O=(e,t,r)=>{let n=i&&i[e]?i[e]:{};if(0===Object.keys(n).length&&null==t)throw Error(`Flag ${e} was not found, and no default value has been provided`);if(r&&n.t&&r!==n.t)throw Error(`Flag ${e} is of type ${s[n.t]} - requested type ${s[r]}`);return{code:e,type:s[n.t||r],value:null==n.v?t:n.v,is_default:null==n.v,defaultValue:t}},m=(e,t)=>{try{return O(e,t,"b").value}catch(e){o.$.isDebugMode&&console.error(e)}},L=(e,t)=>{try{return O(e,t,"s").value}catch(e){o.$.isDebugMode&&console.error(e)}},D=(e,t)=>{try{return O(e,t,"i").value}catch(e){o.$.isDebugMode&&console.error(e)}},$=e=>({isGranted:u.permissions.some(t=>t===e),orgCode:g.orgCode});d(e=>({...e,accessToken:n,accessTokenEncoded:a,accessTokenRaw:a,idToken:l,idTokenRaw:E,idTokenEncoded:E,isLoading:!1,organization:g,permissions:u,user:h,userOrganizations:k,getAccessToken:_,getAccessTokenRaw:T,getAccessTokenEncoded:p,getBooleanFlag:m,getClaim:w,getFlag:O,getIdToken:R,getIdTokenRaw:y,getIntegerFlag:D,getOrganization:f,getPermission:$,getPermissions:I,getStringFlag:L,getToken:v,getUser:A,getUserOrganizations:U,refreshData:r}))}catch(e){o.$.isDebugMode&&console.error(e),d(t=>({...t,isLoading:!1,error:e}))}},[t]),[g,d]=(0,a.useState)({...o.$.initialState});(0,a.useEffect)(()=>{let e=async()=>{await l(),d(e=>({...e,isLoading:!1}))};g.user||e()},[g.user]);let{user:u,accessToken:h,accessTokenRaw:k,accessTokenEncoded:_,idToken:T,idTokenEncoded:p,idTokenRaw:E,getAccessToken:v,getAccessTokenRaw:R,getIdTokenRaw:y,getToken:I,getClaim:f,getFlag:A,getIdToken:U,getBooleanFlag:w,getStringFlag:O,getIntegerFlag:m,getOrganization:L,getPermission:D,getPermissions:$,getUser:N,getUserOrganizations:P,permissions:z,organization:C,userOrganizations:S,error:b,isLoading:F}=g;return(0,n.jsx)(i.Provider,{value:{user:u,error:b,accessToken:h,idToken:T,accessTokenEncoded:_,accessTokenRaw:k,idTokenEncoded:p,idTokenRaw:E,getAccessToken:v,getAccessTokenRaw:R,getToken:I,getClaim:f,getFlag:A,getIdToken:U,getIdTokenRaw:y,getBooleanFlag:w,getStringFlag:O,getIntegerFlag:m,getOrganization:L,getPermission:D,getPermissions:$,getUser:N,getUserOrganizations:P,permissions:z,organization:C,userOrganizations:S,isLoading:F,isAuthenticated:!!u,refreshData:r},children:e})},d=e=>{let[t,r]=(0,a.useState)({current:e});return[()=>t.current,e=>{r({current:e}),t.current=e}]},u=e=>Object.fromEntries(Object.entries(e).filter(([e,t])=>void 0!==t)),h=(e,t)=>{let r=e.organization_properties||e["x-hasura-organization_properties"]||{},n=t.organization_properties||t["x-hasura-organization_properties"]||{},o={...r,...n},a={};return Object.keys(o).forEach(e=>{"b"===o[e].t||o[e].t,a[e]=o[e].v}),u({city:a.kp_org_city,industry:a.kp_org_industry,postcode:a.kp_org_postcode,state_region:a.kp_org_state_region,street_address:a.kp_org_street_address,street_address_2:a.kp_org_street_address_2,...a})},k=(e,t)=>{let r=t.org_code||t["x-hasura-org-code"],n=t.org_name||t["x-hasura-org-name"];return r?{orgCode:r,orgName:n,properties:h(e,t)}:null};var _=r(81247);let T=async()=>{try{let{refreshTokensServerAction:e}=await r.e(1600).then(r.bind(r,41600));return e}catch{return null}},p=(e=_.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH||_.env.KINDE_AUTH_API_PATH||"/api/auth")=>{let[t,r]=d({accessToken:null,accessTokenEncoded:null,error:null,featureFlags:[],idToken:null,idTokenRaw:null,isAuthenticated:!1,isLoading:!0,organization:null,permissions:null,user:null,userOrganizations:null});(0,a.useEffect)(()=>{i()},[]);let n=async()=>{let e=await T();e?(await e(),await i()):console.warn("[Kinde] refreshData is only available in Next.js App Router environments, version 14 or higher.")},i=async()=>{let n=`${e}/${o.J.setup}`,a=await fetch(n),{message:s,error:i,...l}=await a.json();if(!a.ok)return void r({...t(),isLoading:!1,error:`${s}: ${i||"An error occurred"}`});switch(s){case"OK":r({...l,isLoading:!1});break;case"NOT_LOGGED_IN":r({...t(),isLoading:!1});break;default:r({...t(),isLoading:!1,error:`${s}: ${i||"An error occurred"}`})}},l=(e,r,n)=>{let o=t().featureFlags||[],a=o&&o[e]?o[e]:null;if(!a&&null==r)throw Error(`Flag ${e} was not found, and no default value has been provided`);if(n&&a.t&&n!==a.t)throw Error(`Flag ${e} is of type ${s[a.t]} - requested type ${s[n]}`);return{code:e,type:s[a.t||n],value:null==a.v?r:a.v,is_default:null==a.v,defaultValue:r}},c=()=>t().accessTokenEncoded;return{...t(),isAuthenticated:!!t().user,getUser:()=>t().user,getIdTokenRaw:()=>t().idTokenRaw,getPermission:e=>{var r,n;return t().permissions?{isGranted:null==(r=t().permissions.permissions)?void 0:r.some(t=>t===e),orgCode:null==(n=t().organization)?void 0:n.orgCode}:{isGranted:!1,orgCode:null}},getBooleanFlag:(e,t)=>{try{return l(e,t,"b").value}catch(e){o.$.isDebugMode&&console.error(e)}},getIntegerFlag:(e,t)=>{try{return l(e,t,"i").value}catch(e){o.$.isDebugMode&&console.error(e)}},getFlag:l,getStringFlag:(e,t)=>{try{return l(e,t,"s").value}catch(e){o.$.isDebugMode&&console.error(e)}},getClaim:(e,r="access_token")=>{let n="access_token"===r?t().accessToken:t().idToken;return n?{name:e,value:n[e]}:null},getAccessToken:()=>t().accessToken,getToken:c,getAccessTokenRaw:()=>c(),getIdToken:()=>t().idToken,getOrganization:()=>k(t().idToken,t().accessToken),getPermissions:()=>t().permissions,getUserOrganizations:()=>t().userOrganizations,refreshData:n,accessTokenRaw:t().accessTokenEncoded,idTokenEncoded:t().idTokenRaw}};r(91089),r(67453),r(48480),r(22792)},67113:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(94853).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},67453:(e,t,r)=>{r.d(t,{Y:()=>s});var n=r(72311),o=r(82726),a=r(81247);function s({children:e,postLoginRedirectURL:t,orgCode:r,authUrlParams:s,...i}){let l=new URLSearchParams,c={};for(let e in null!=r&&(c.org_code=r),null!=t&&(null!=t&&t.startsWith("/")&&(t=`${"u">typeof window?window.location.origin:a.env.KINDE_SITE_URL}${t}`),c.post_login_redirect_url=t),c={...s,...c})l.append(e,c[e]);let g=`${o.$.apiPath}/${o.J.login}${l?`?${l.toString()}`:""}`;return(0,n.jsx)("a",{href:g,...i,children:e})}},75127:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(94853).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},82726:(e,t,r)=>{function n(e){if(null!=e)return(e=e.trim()).endsWith("/")&&(e=e.slice(0,-1)),e}r.d(t,{$:()=>T,J:()=>E});var o=r(81247);let a=n(o.env.KINDE_SITE_URL),s=o.env.KINDE_POST_LOGIN_ALLOWED_URL_REGEX,i=n(o.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH)||n(o.env.KINDE_AUTH_API_PATH)||"/api/auth",l=n(o.env.KINDE_POST_LOGIN_REDIRECT_URL)||n(o.env.KINDE_POST_LOGIN_URL_REDIRECT_URL),c=n(o.env.KINDE_POST_LOGOUT_REDIRECT_URL),g=n(o.env.KINDE_ISSUER_URL),d=o.env.KINDE_CLIENT_ID,u=o.env.KINDE_CLIENT_SECRET,h=o.env.KINDE_AUDIENCE,k=n(o.env.KINDE_COOKIE_DOMAIN),_=o.env.KINDE_SCOPE||"openid profile email offline",T={isDebugMode:"true"===o.env.KINDE_DEBUG_MODE,apiPath:i,initialState:{accessToken:null,idToken:null,isAuthenticated:!1,isLoading:!0,organization:null,permissions:[],user:null,userOrganizations:[],getAccessToken:()=>null,getBooleanFlag:()=>null,getClaim:()=>null,getFlag:()=>null,getIdToken:()=>null,getIntegerFlag:()=>null,getOrganization:()=>null,getPermission:()=>null,getPermissions:()=>[],getStringFlag:()=>null,getToken:()=>null,getUser:()=>null,getUserOrganizations:()=>null,refreshData:()=>null},SESSION_PREFIX:"pkce-verifier",redirectURL:a,postLoginRedirectURL:l,postLoginAllowedURLRegex:s,issuerURL:g,clientID:d,clientSecret:u,postLogoutRedirectURL:c,audience:h?h.split(" "):"",cookieDomain:k,responseType:"code",codeChallengeMethod:"S256",redirectRoutes:{callback:`${i}/kinde_callback`},issuerRoutes:{logout:"/logout",login:"/oauth2/auth",register:"/oauth2/auth",token:"/oauth2/token",profile:"/oauth2/v2/user_profile"},clientOptions:{audience:h?h.split(" "):"",authDomain:g||"",clientId:d||"",clientSecret:u||"",logoutRedirectURL:c||"",redirectURL:`${a}${i}/kinde_callback`,frameworkVersion:"2.6.2",scope:_},grantType:"AUTHORIZATION_CODE"},p=e=>e&&/^[a-zA-Z0-9_-]+$/.test(e)?e:null,E={login:p(o.env.KINDE_AUTH_LOGIN_ROUTE)||"login",logout:p(o.env.KINDE_AUTH_LOGOUT_ROUTE)||"logout",register:p(o.env.KINDE_AUTH_REGISTER_ROUTE)||"register",createOrg:p(o.env.KINDE_AUTH_CREATEORG_ROUTE)||"create_org",health:p(o.env.KINDE_AUTH_HEALTH_ROUTE)||"health",setup:p(o.env.KINDE_AUTH_SETUP_ROUTE)||"setup"}},91089:(e,t,r)=>{r.d(t,{_:()=>a});var n=r(72311),o=r(82726);function a({children:e,orgCode:t,postLoginRedirectURL:r,authUrlParams:a,...s}){let i=new URLSearchParams,l={};for(let e in null!=t&&(l.org_code=t),null!=r&&(l.post_login_redirect_url=r),l={...a,...l})i.append(e,l[e]);return(0,n.jsx)("a",{href:`${o.$.apiPath}/${o.J.register}${i?`?${i.toString()}`:""}`,...s,children:e})}},91803:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(94853).A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]])}}]);